<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>
    <form method="POST" name="myform">
        <input type="text" name="tittle" placeholder="tittle">
        <br><br>
        <input type="text" name="description" placeholder="description">
        <br><br>
        <input onclick="addTodo()" type="button" value="Add">
    </form>
    <br>
    <div id="container"></div>
    
    <script>

        let globalId = 0

        function markAsDone(id) {
            const parent = document.getElementById(id)
            parent.childNodes[2].innerHTML = "Done"
        }

        function createChild(tittle,description,id){
            const child = document.createElement('div')
            const firstGrandChild = document.createElement('div')
            firstGrandChild.innerHTML = tittle
            const secondGrandChild = document.createElement('div')
            secondGrandChild.innerHTML = description
            const thirdGrandChild = document.createElement('button')
            thirdGrandChild.innerHTML = "Mark as done"
            thirdGrandChild.setAttribute('onclick',`markAsDone(${id})`)
            const br = document.createElement('br')
            child.appendChild(firstGrandChild)
            child.appendChild(secondGrandChild)
            child.appendChild(thirdGrandChild)
            child.appendChild(br)
            child.appendChild(br)
            child.setAttribute('id',id)
            return child;

        }
        function addTodo() {
            const tittle = document.myform.tittle.value
            const description = document.myform.description.value

            // const div = document.createElement('div')
            // document.body.appendChild(div)

            // div.style.backgroundColor = "yellow"

            // const innerDiv1 = document.createElement('div')
            // const innerDiv2 = document.createElement('div')
            // innerDiv1.innerHTML = tittle
            // innerDiv2.innerHTML = description

            // const button = document.createElement('button')
            // button.innerText = "Mark as done"
            // div.appendChild(innerDiv1)
            // div.appendChild(innerDiv2)
            // div.appendChild(button)

            const parent = document.getElementById('container')

            // const originalHtml = document.getElementById('container').innerHTML
            // document.getElementById('container').innerHTML = originalHtml +
            // `<div>
            //     <div>${tittle}</div>
            //     <div>${description}</div>
            //     <button>Mark as done</button>
            // </div>`

            parent.appendChild(createChild(tittle, description,globalId++))

        }

    </script>
</body>

</html>