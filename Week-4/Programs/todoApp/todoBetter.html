<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>

<body>
    <form method="POST" name="myform">
        <input type="text" name="tittle" placeholder="tittle">
        <br><br>
        <input type="text" name="description" placeholder="description">
        <br><br>
        <input onclick="addTodo()" type="button" value="Add">
    </form>
    <br>
    <div id="container"></div>
    
    <script>

        let globalId = 0
        function createChild(tittle,description,id){
            const child = document.createElement('div')
            const firstGrandChild = document.createElement('div')
            firstGrandChild.innerHTML = tittle
            const secondGrandChild = document.createElement('div')
            secondGrandChild.innerHTML = description
            const thirdGrandChild = document.createElement('button')
            thirdGrandChild.innerHTML = "Mark as done"
            thirdGrandChild.setAttribute('onclick',`markAsDone(${id})`)
            const br = document.createElement('br')
            child.appendChild(firstGrandChild)
            child.appendChild(secondGrandChild)
            child.appendChild(thirdGrandChild)
            child.appendChild(br)
            child.appendChild(br)
            child.setAttribute('id',id)
            return child;

        }
        // state will always be a array
        // every element of the state would have a tittle, description and id
        function updateDom(state){
            const parent = document.getElementById('container')
            parent.innerHTML = ''
            state.forEach((element)=>{
                const child = createChild(element.tittle,element.description,element.id)
                parent.appendChild(child)
            })
        }
        updateDom([
            {
                tittle: 'Go to market',
                description: 'Buy some fruits',
                id: 0
            },
            {
                tittle: 'Go to gym',
                description: 'Do some exercise',
                id: 1
            },
            {
                tittle: 'Go to school',
                description: 'Learn something',
                id: 2
            }
        ])
    </script>
</body>

</html>